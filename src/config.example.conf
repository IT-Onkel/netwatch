# netwatch example config
# This file is sourced by bash. Keep valid bash syntax.

# Storage
LOG_DIR="/var/log/netwatch"
EXPORT_DIR="/var/log/netwatch/export"

# Runtime
DURATION_HOURS=24
DURATION_SEC=""   # if set, overrides DURATION_HOURS

# Scheduling (seconds)
PING_BURST_INTERVAL_SEC=20
SUMMARY_INTERVAL_SEC=300
MTR_INTERVAL_SEC=1800
IPERF_UDP_INTERVAL_SEC=900
SPEEDTEST_INTERVAL_SEC=3600

# Ping tests
PING_TARGETS=("1.1.1.1" "8.8.8.8")
PING_BURST_COUNT=10
PING_BURST_I=0.2

# DNS tests
LOCAL_DNS="192.168.100.4"
UPSTREAM_DNS=("1.1.1.1" "8.8.8.8")
DNS_TEST_DOMAINS=("google.com" "cloudflare.com" "github.com" "heise.de" "microsoft.com")
DO_AAAA_TESTS=true

# iperf3 UDP tests (optional but highly recommended for evidence)
# Each entry is host:port
IPERF3_SERVERS=("ping.online.net:5201" "speedtest.serverius.net:5002")
IPERF3_UDP_BW="5M"
IPERF3_UDP_TIME=10
IPERF3_UDP_TIMEOUT_SEC=20

# speedtest (Ookla) - optional
SPEEDTEST_TIMEOUT_SEC=60

# -------------------------------
# Thresholds for report "traffic light"
# -------------------------------

# Ping thresholds (per 5-min window)
TH_PING_LOSS_WARN=1     # %
TH_PING_LOSS_BAD=5      # %
TH_PING_RTT_WARN=80     # ms avg
TH_PING_RTT_BAD=150     # ms avg

# DNS thresholds
TH_DNS_TIMEOUT_WARN=2   # % of probes in a window
TH_DNS_TIMEOUT_BAD=10   # %
TH_DNS_LAT_WARN=150     # ms (qtime)
TH_DNS_LAT_BAD=400      # ms

# iperf UDP thresholds (loss/jitter)
TH_IPERF_LOSS_WARN=1    # %
TH_IPERF_LOSS_BAD=5     # %
TH_IPERF_JITTER_WARN=20 # ms
TH_IPERF_JITTER_BAD=50  # ms
